import{a as L,b as O,c as k,d as E}from"./chunk-ADHIYY5J.js";import{a as w,b as T,d as Y,e as j,f as D}from"./chunk-TIN3U24M.js";import{g as S}from"./chunk-SZJS6YUP.js";import{Ab as a,Cb as y,Db as g,Eb as d,Ib as I,Jb as V,Kb as x,Mb as h,Q as v,Rb as A,Sa as M,Va as c,_a as C,d as p,eb as b,fa as f,ga as u,ib as l,j as Z,pb as _,ub as r,yb as n,zb as o}from"./chunk-5423XKIL.js";var F=["heygenVideo"];function N(e,i){if(e&1){let t=y();n(0,"div",8)(1,"div",12),g("click",function(){f(t);let s=d(2);return u(s.unSelect())}),a(2,"img",13),o(),n(3,"div",14),a(4,"app-contact",15),o()()}if(e&2){let t=d(2);c(4),_("contact",t.contactActive)}}function U(e,i){e&1&&a(0,"iframe",16)}function J(e,i){if(e&1&&(n(0,"section",0)(1,"div",2),a(2,"app-navigation"),o(),n(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6),a(7,"img",7),n(8,"strong"),h(9,"Video Contact"),o()(),l(10,N,5,1,"div",8),o()(),n(11,"div",9),a(12,"app-contact-list"),o(),n(13,"div",10),l(14,U,1,0,"iframe",11),o()()()),e&2){let t=d();c(10),r(t.contactActive?10:-1),c(4),r(t.contactActive&&t.contactActive.isOnline?14:-1)}}function W(e,i){e&1&&(n(0,"div",6)(1,"strong"),h(2,"Video Contact"),o()())}function X(e,i){if(e&1){let t=y();n(0,"div",8)(1,"div",12),g("click",function(){f(t);let s=d(2);return u(s.unSelect())}),a(2,"img",18),o(),n(3,"div",14),a(4,"app-contact",15),o()()}if(e&2){let t=d(2);c(4),_("contact",t.contactActive)}}function G(e,i){e&1&&(n(0,"div",9),a(1,"app-contact-list"),o())}function R(e,i){e&1&&a(0,"iframe",16)}function Q(e,i){if(e&1&&(n(0,"div",10),l(1,R,1,0,"iframe",11),o()),e&2){let t=d(2);c(),r(t.contactActive&&t.contactActive.isOnline?1:-1)}}function H(e,i){if(e&1&&(n(0,"section",1)(1,"div",3)(2,"div",4)(3,"div",5),l(4,W,3,0,"div",6)(5,X,5,1,"div",8),n(6,"div",17),a(7,"app-mobile-navigation"),o()()(),l(8,G,2,0,"div",9)(9,Q,2,1,"div",10),o()()),e&2){let t=d();c(4),r(t.contactActive?5:4),c(4),r(t.contactActive?9:8)}}var z=class e{constructor(i,t){this.stateManagementService=i;this.http=t}heygenVideo;streamingAvatar;config;contactActive;destroy$=new Z;ngOnInit(){return p(this,null,function*(){this.stateManagementService.contactStore.update(T([{botId:"1",clientId:"21a8f17c-6766-4087-af30-953a9ca03ca3",name:"Debby Halston",avatar:"./avatar/debby.png",isOnline:!0},{botId:"2",clientId:"21a8f17c-6766-4087-af30-953a9ca03ca4",name:"Emma Brown",avatar:"./avatar/emma.png",isOnline:!1}])),this.stateManagementService.platformState.pipe(w(i=>i)).pipe(v(this.destroy$)).subscribe(i=>{this.config=i}),this.stateManagementService.contactStore.pipe(j()).pipe(v(this.destroy$)).subscribe(i=>p(this,null,function*(){this.contactActive=i,this.contactActive&&(yield this.streamingAvatar?.stopAvatar())}))})}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete(),this.stateManagementService.contactStore.reset()}unSelect(){this.stateManagementService.contactStore.update(Y(null))}static \u0275fac=function(t){return new(t||e)(C(D),C(S))};static \u0275cmp=b({type:e,selectors:[["app-layout"]],viewQuery:function(t,m){if(t&1&&I(F,5),t&2){let s;V(s=x())&&(m.heygenVideo=s.first)}},features:[A([])],decls:2,vars:2,consts:[[1,"desktop-layout"],[1,"mobile-layout"],[1,"navigation"],[1,"content"],[1,"header"],[1,"selected-contact"],[1,"contacts-header"],["src","./icones/video-camera-contact.svg","alt","",2,"width","24px"],[1,"contact-wrapper"],[1,"contacts"],[1,"message"],["allow","microphone","src","https://labs.heygen.com/guest/streaming-embed?share=eyJxdWFsaXR5IjoiaGlnaCIsImF2YXRhck5hbWUiOiJhMzNiZTA2ZmY3YzI0YWM4YWUyYTk1MGIw%0D%0AMDgzOTkxMiIsInByZXZpZXdJbWciOiJodHRwczovL2ZpbGVzMi5oZXlnZW4uYWkvYXZhdGFyL3Yz%0D%0AL2EzM2JlMDZmZjdjMjRhYzhhZTJhOTUwYjAwODM5OTEyL2Z1bGwvMi4yL3ByZXZpZXdfdGFyZ2V0%0D%0ALndlYnAiLCJuZWVkUmVtb3ZlQmFja2dyb3VuZCI6ZmFsc2UsImtub3dsZWRnZUJhc2VJZCI6Ijcx%0D%0AOGI1MzRkNTFkNjQyNGFiMjc2YzYyMjdhNzA1Zjk5IiwidXNlcm5hbWUiOiI4MTcxYzNkMDEwNTM0%0D%0ANTU1YjU2ZmQwODY4MTU5ZjFjMiJ9&inIFrame=1",2,"width","100%","height","100%","border","none"],[1,"icon",3,"click"],["src","./icones/close.png"],[1,"contact"],[3,"contact"],["allow","microphone","src",M`https://labs.heygen.com/guest/streaming-embed?share=eyJxdWFsaXR5IjoiaGlnaCIsImF2YXRhck5hbWUiOiJhMzNiZTA2ZmY3YzI0YWM4YWUyYTk1MGIw%0D%0AMDgzOTkxMiIsInByZXZpZXdJbWciOiJodHRwczovL2ZpbGVzMi5oZXlnZW4uYWkvYXZhdGFyL3Yz%0D%0AL2EzM2JlMDZmZjdjMjRhYzhhZTJhOTUwYjAwODM5OTEyL2Z1bGwvMi4yL3ByZXZpZXdfdGFyZ2V0%0D%0ALndlYnAiLCJuZWVkUmVtb3ZlQmFja2dyb3VuZCI6ZmFsc2UsImtub3dsZWRnZUJhc2VJZCI6Ijcx%0D%0AOGI1MzRkNTFkNjQyNGFiMjc2YzYyMjdhNzA1Zjk5IiwidXNlcm5hbWUiOiI4MTcxYzNkMDEwNTM0%0D%0ANTU1YjU2ZmQwODY4MTU5ZjFjMiJ9&inIFrame=1`,2,"width","100%","height","100%","border","none"],[1,"mobile-navigation"],["src","./icones/back.png"]],template:function(t,m){t&1&&l(0,J,15,2,"section",0)(1,H,10,2,"section",1),t&2&&(r(m.config&&m.config.platform==="desktop"?0:-1),c(),r(m.config&&m.config.platform==="mobile"?1:-1))},dependencies:[k,O,L,E],encapsulation:2})};export{z as VideoLayoutComponent};
